# 操作系统概述

## 操作系统基本概念

### 操作系统的概念

控制和管理整个计算机系统的硬件与软件资源，合理组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口和环境的程序集合。
操作系统是计算机系统中最基本的系统软件

### 操作系统的特征

+ 并发
+ 共享
+ 虚拟
+ 异步

#### 并发

两个或多个事件在同一时间间隔内发生

#### 共享

资源共享

1. 互斥共享
    一段时间内只允许一个进程访问资源
2. 同时访问
   一段时间内允许多个资源访问资源

#### 虚拟

把一个物理上的实体变为若干逻辑上的对应物

#### 异步

允许多个程序并发执行，进程的执行不是一贯到底，而是走走停停，以不可预知的速度向前推进

### 操作系统的目标和功能

#### 操作系统为计算机系统资源的管理者

1. 处理机管理
2. 存储器管理
3. 文件管理
4. 设备管理

#### 操作系统作为用户与计算机硬件系统之间的接口

1. 命令接口
   + 联机命令接口：交互式命令接口
   + 脱机命令接口：批处理命令接口，用户不能直接干预作业的运行
2. 程序接口

#### 操作系统用作扩充机器

## 操作系统的分类和发展

### 手工操作阶段

+ 用户独占全机，资源利用率低
+ CPU 等待手工操作，CPU 利用不充分

### 批处理阶段

#### 单道批处理系统

+ 自动性：磁带上的一批作业自动逐个运行，不需要人工干预
+ 顺序性：
+ 单道性：内存中只有一道作业

#### 多道批处理系统

+ 多道
+ 宏观上并行
+ 微观上串行

### 分时操作系统

**按时间片流转**把处理器分配给各联机作业使用

+ 同时性：对个终端用户同时共享一台主机
+ 交互性
+ 独立性：多个用户彼此独立进行操作，互不干扰
+ 及时性

### 实时操作系统

### 网络操作系统和分布式计算机系统

### 个人计算机系统

## 操作系统的运行环境

### 操作系统的运行机制

#### 时钟管理

+ 计时，向用户提供标准的系统时间
+ 实现进程的切换

#### 中断机制

#### 原语

+ 处于操作系统最底层，是最接近硬件的部分
+ 运行具有原子性，操作只能一气呵成
+ 运行时间较短，且调用频繁

#### 系统控制的数据结构及处理

1. 进程管理：进程状态管理、进程调度和分派、创建和撤销进程控制块
2. 存储器管理：存储器空间的分配和回收、内存信息保护程序、代码对换程序
3. 设备管理：缓冲区管理、设备分配和回收

### 中断和异常的概念

$$中断
\begin{cases}
    内中断（异常）\begin{cases}
        资源中断\\
        强迫中断\begin{cases}
            硬件故障\\软件中断
        \end{cases}
    \end{cases}\\
    外中断\begin{cases}
        外设请求\\人的干预
    \end{cases}
\end{cases}
$$

### 中断处理过程

1. 关中断
2. 保存断点
3. 引出中断服务程序
4. 保存现场和屏蔽字
5. 开中断
6. 执行中断服务程序
7. 关中断
8. 恢复现场和屏蔽字
9. 开中断、中断返回